var locations=[],viewModel=function(){var a=this;a.allLocations=ko.observableArray(locations),a.filteredLocations=ko.observableArray(a.allLocations()),a.searchLocation=ko.observable(""),a.searchLocation.subscribe(function(b){var c;c=""===b?locations:ko.utils.arrayFilter(a.allLocations(),function(a){return a.title.toLowerCase().indexOf(b.trim().toLowerCase())>-1?!0:void 0}),a.filteredLocations(c),removeAllMarkers(),displayMarkers(a.filteredLocations())})},mapReady=function(){getLocationfromDatabase(function(){displayMarkers(locations),ko.applyBindings(new viewModel)})},displayMarkers=function(a){removeAllMarkers();for(var b in a){var c={lat:parseFloat(a[b].lat),lng:parseFloat(a[b].lng)};addMarker(c,a[b].title,a[b].description,a[b].id,a[b].url,map)}},openInfoWindow=function(a,b){var c=b.target.id;google.maps.event.trigger(markers[c],"click")};